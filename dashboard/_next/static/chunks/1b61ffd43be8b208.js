(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33492,e=>{"use strict";var s=e.i(99864),t=e.i(73875);function l(){let[e,l]=(0,t.useState)([]),[a,r]=(0,t.useState)(!1),[n,o]=(0,t.useState)(new Set),[c,i]=(0,t.useState)(""),[d,x]=(0,t.useState)(""),[p,u]=(0,t.useState)(""),[g,h]=(0,t.useState)(!1),m=(0,t.useRef)(null),b=(0,t.useRef)(null),f=(0,t.useCallback)(()=>{let e="https:"===window.location.protocol?"wss:":"ws:",s=new WebSocket(`${e}//${window.location.host}/ws?mode=subscribe`);s.onopen=()=>r(!0),s.onclose=()=>{r(!1),setTimeout(f,2e3)},s.onerror=()=>r(!1),s.onmessage=e=>{if(g)return;let s=JSON.parse(e.data);"log"===s.type&&(l(e=>[s.data,...e].slice(0,1e3)),o(e=>new Set([...e,s.data.project])))},m.current=s},[g]);(0,t.useEffect)(()=>(f(),()=>m.current?.close()),[f]);let j=e.filter(e=>(!c||e.project===c)&&(!d||e.level===d)&&(!p||!!e.message.toLowerCase().includes(p.toLowerCase()))),v=e.filter(e=>"error"===e.level||"fatal"===e.level).length,w={debug:"text-gray-500",info:"text-blue-400",warn:"text-yellow-400",error:"text-red-400",fatal:"bg-red-600 text-white px-1 rounded"};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#1a1a2e] text-gray-200 flex flex-col",children:[(0,s.jsxs)("header",{className:"bg-[#16213e] px-6 py-3 flex items-center justify-between border-b border-[#0f3460]",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"ðŸ“¡ Logstream"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-400":"bg-red-500"}`}),(0,s.jsx)("span",{children:a?"Connected":"Disconnected"})]})]}),(0,s.jsxs)("div",{className:"bg-[#16213e] px-6 py-2 flex flex-wrap gap-3 items-center border-b border-[#0f3460]",children:[(0,s.jsxs)("select",{value:c,onChange:e=>i(e.target.value),className:"bg-[#1a1a2e] border border-[#0f3460] rounded px-3 py-1.5 text-sm",children:[(0,s.jsx)("option",{value:"",children:"All Projects"}),[...n].sort().map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{value:d,onChange:e=>x(e.target.value),className:"bg-[#1a1a2e] border border-[#0f3460] rounded px-3 py-1.5 text-sm",children:[(0,s.jsx)("option",{value:"",children:"All Levels"}),(0,s.jsx)("option",{value:"debug",children:"Debug"}),(0,s.jsx)("option",{value:"info",children:"Info"}),(0,s.jsx)("option",{value:"warn",children:"Warn"}),(0,s.jsx)("option",{value:"error",children:"Error"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:p,onChange:e=>u(e.target.value),className:"bg-[#1a1a2e] border border-[#0f3460] rounded px-3 py-1.5 text-sm w-48"}),(0,s.jsx)("button",{onClick:()=>l([]),className:"bg-[#0f3460] hover:bg-[#1a4a7a] px-4 py-1.5 rounded text-sm",children:"Clear"}),(0,s.jsx)("button",{onClick:()=>h(!g),className:`px-4 py-1.5 rounded text-sm ${g?"bg-green-500 text-black":"bg-[#0f3460]"}`,children:g?"Resume":"Pause"}),(0,s.jsx)("button",{onClick:()=>{let e=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`logs-${new Date().toISOString().slice(0,10)}.json`,t.click(),URL.revokeObjectURL(s)},className:"bg-[#0f3460] hover:bg-[#1a4a7a] px-4 py-1.5 rounded text-sm",children:"Export"})]}),(0,s.jsxs)("div",{className:"bg-[#0f0f23] px-6 py-2 text-xs text-gray-500 flex gap-6",children:[(0,s.jsxs)("span",{children:["Total: ",(0,s.jsx)("span",{className:"text-green-400",children:e.length})]}),(0,s.jsxs)("span",{children:["Showing: ",(0,s.jsx)("span",{className:"text-green-400",children:j.length})]}),(0,s.jsxs)("span",{children:["Errors: ",(0,s.jsx)("span",{className:"text-red-400",children:v})]})]}),(0,s.jsx)("div",{ref:b,className:"flex-1 overflow-y-auto p-2",children:0===j.length?(0,s.jsx)("div",{className:"text-center py-20 text-gray-500",children:0===e.length?"Waiting for logs...":"No logs match filters"}):j.map(e=>(0,s.jsxs)("div",{className:"flex gap-3 px-3 py-1 hover:bg-[#16213e] text-sm font-mono",children:[(0,s.jsx)("span",{className:"text-gray-500 min-w-[85px]",children:e.timestamp?.split("T")[1]?.slice(0,12)||""}),(0,s.jsx)("span",{className:`min-w-[50px] font-semibold ${w[e.level]||""}`,children:e.level}),(0,s.jsx)("span",{className:"text-purple-400 min-w-[120px]",children:e.project}),(0,s.jsx)("span",{className:"text-emerald-400",children:e.traceId?`[${e.traceId.slice(0,8)}]`:""}),(0,s.jsx)("span",{className:"flex-1 break-all",children:e.message})]},e.id))})]})}e.s(["default",()=>l])}]);